/* 
 * jQuery UI TransparentCard 0.1
 * Copyright (c) 2017, Sanggyeong Jo
 * Lisensed under the MIT
 * 
 * Dependencies:
 *  jQuery >= 1.6
 *  jQuery.ui.core
 *  jQuery.ui.widget
 *  jQuery.ui.mouse
 * 
 * Contacts
 *  Github : github.com/byeolbit
 *  Email : info@byeolbit.com
 *          sanggyeong.jo@gmail.com
 *
 * You can find this project at https://github.com/byeolbit/transparentCard
 */
!function(a){a.fn.transparentCard=function(b,c){var d=a.extend({filterValue:10,cardColor:"white",draggable:!0,shadow:!0},c);this.each(function(){function t(a,b,c,d,e){var f=d.css("background-image"),g=d.css("background-repeat"),h=d.css("background-size"),i=a.height(),j=a.width();b.css("background-image",f),b.css("background-repeat",g),b.css("background-size",h),b.css("filter","blur("+e+"px)"),b.css("margin-left","-"+e+"px"),b.css("margin-top","-"+e+"px"),b.height(i+2*e),b.width(j+2*e),u(a,b,c,d,e)}function u(a,b,c,d,e){var f=d.css("background-attachment"),g=d.offset();cardOffset=a.offset(),c.offset({left:cardOffset.left+1,top:cardOffset.top+1}),b.css("background-attachment",f),"fixed"!=f&&b.css("background-position",g.left-(cardOffset.left-e)+"px "+(g.top-(cardOffset.top-e))+"px")}var c=a(this),e=d.filterValue,f=d.cardColor,g=d.draggable,h=d.shadow,i=c.children(".tpc-card"),j=c.children(".tpc-card-background-container"),k=i.children(".tpc-card-contents"),l=j.children(".tpc-card-bg"),m=a(b),n=a(window),p={"background-color":"rgba(255,255,255,0)"},q={"background-color":"rgba(255,255,255,0.4)"},r={"background-color":"rgba(120,120,120,0.4)"},s={"background-color":"rgba(30,30,30,0.7)"};switch(i.css({border:"rgba(200,200,200,0.5) solid 1px","border-radius":"10px",overflow:"hidden",position:"relative",transition:"box-shadow 0.4s ease"}),h&&i.css({"box-shadow":"0px 20px 20px rgba(0,0,0,0.5)"}),j.css({"border-radius":"10px",position:"relative",overflow:"hidden"}),k.css({"border-radiu":"10px",height:i.height(),position:"relative",width:i.width(),overflow:"hidden"}),t(i,l,j,m,e),f){case"clear":k.css(p);break;case"white":k.css(q);break;case"grey":k.css(r);break;case"black":k.css(s);break;default:k.css("background-color",f)}n.resize(function(){t(i,l,j,m,e)}),g&&(i.css({cursor:"move"}),i.draggable({containment:b,start:function(a,b){h&&i.css({"box-shadow":"0px 40px 30px rgba(0,0,0,0.7)"})},drag:function(a,b){u(i,l,j,m,e)},stop:function(a,b){h&&i.css({"box-shadow":"0px 40px 30px rgba(0,0,0,0.7)"}),u(i,l,j,m,e)}}))})}}(jQuery);